{# templates/noticias/timeline_items.html #}

{% for noticia in noticias %}
{% include "noticias/timeline_item.html" with noticia=noticia current_filter=current_filter %}
{% endfor %}

{# Empty state #}
{% if not noticias %}
<div class="border-2 border-black bg-white p-8 text-center mono">
  <p class="text-gray-600 mb-2">[ sin noticias ]</p>
  <p class="text-xs text-gray-500">agreg√° la primera noticia arriba</p>
</div>
{% endif %}

{# Infinite scroll trigger #}
{% if page_obj.has_next %}
  <div class="text-center py-8 mono text-xs text-gray-600"
    hx-get="{% url 'timeline' %}?page={{ page_obj.next_page_number }}{% if current_filter %}&filter={{ current_filter }}{% endif %}{% if request.GET.entidad %}&entidad={{ request.GET.entidad }}{% endif %}"
    hx-trigger="revealed"
    hx-swap="outerHTML">
    <div class="border-2 border-black bg-white p-4">
      <div class="border-4 border-black border-t-transparent h-8 w-8 rounded-full animate-spin mx-auto"></div>
    </div>
  </div>
{% endif %}
