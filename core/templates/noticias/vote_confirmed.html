<!-- templates/noticias/vote_confirmed.html -->
<div class="bg-green-50 border-2 border-green-600 p-6 mb-6 animate-[slideIn_0.3s_ease-out]">
  <!-- Success Message -->
  <div class="flex items-start gap-3 mb-4">
    <div class="text-2xl">âœ“</div>
    <div>
      <p class="text-sm mono font-bold text-green-800 mb-1">
        Â¡Voto registrado!
      </p>
      <p class="text-sm mono text-gray-700">
        Tu opiniÃ³n:
        {% if vote.opinion == "buena" %}
        <span class="font-bold text-green-700">ğŸ˜Š Buena noticia</span>
        {% elif vote.opinion == "mala" %}
        <span class="font-bold text-red-700">ğŸ˜ Mala noticia</span>
        {% else %}
        <span class="font-bold text-gray-700">ğŸ˜ Neutral</span>
        {% endif %}
      </p>
    </div>
  </div>

  <!-- Signup Prompt (shown on 3rd vote for anonymous users) -->
  {% if show_signup_prompt %}
  <div class="border-t-2 border-green-200 pt-4 mb-4">
    <div class="bg-white border-2 border-black p-4 mb-3">
      <div class="flex items-start gap-3 mb-3">
        <div class="text-3xl">ğŸ—ºï¸</div>
        <div class="flex-1">
          <p class="text-base mono font-bold mb-2">
            Â¡Ya votaste en {{ total_votes }} noticias!
          </p>
          <p class="text-sm mono text-gray-700 mb-3">
            CreÃ¡ tu cuenta para desbloquear:
          </p>
          <ul class="text-xs mono space-y-2 text-gray-700">
            <li class="flex items-start gap-2">
              <span class="text-green-600 font-bold">âœ“</span>
              <span><strong>Guardar tus votos</strong> para no perder entre dispositivos</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-green-600 font-bold">âœ“</span>
              <span><strong>Mostrar tu alias</strong> en el mapa de opiniones</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-green-600 font-bold">âœ“</span>
              <span><strong>Recibir email semanal</strong> con nuevas noticias en tu Ã¡rea de interÃ©s</span>
            </li>
          </ul>
        </div>
      </div>
      <div class="flex flex-col sm:flex-row gap-2">
        <a href="{% url 'account_signup' %}?next={{ request.path }}" 
           class="flex-1 text-center bg-black text-white px-4 py-3 text-sm mono font-bold
                  border-2 border-black hover:bg-white hover:text-black transition-all
                  shadow-[3px_3px_0px_0px_rgba(0,0,0,1)]">
          Crear cuenta gratis
        </a>
        <button onclick="this.closest('.bg-white').style.display='none'" 
                class="text-xs mono text-gray-600 hover:text-black px-3 underline">
          Seguir sin cuenta
        </button>
      </div>
    </div>
  </div>
  {% endif %}

  <!-- Prominent CTA -->
  <div class="border-t-2 border-green-200 pt-4">
    <p class="text-xs mono text-gray-600 mb-3">
      Ayudanos a entender mejor la opiniÃ³n pÃºblica uruguaya
    </p>
    <a href="{% url 'timeline' %}?filter=nuevas"
       class="block text-center bg-black text-white px-6 py-3 text-base mono font-bold
       border-2 border-black hover:bg-green-600 hover:border-green-600
       transition-all shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]
       hover:shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]">
      â†’ Ver mÃ¡s noticias para votar
    </a>
  </div>
</div>

<style>
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>
